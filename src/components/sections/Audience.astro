---
import Card from "../ui/Card.astro";
---

<section id="audience" class="bg-alt">
    <div class="container">
        <div class="section-header">
            <h2 class="fade-up-audience">
                Para quem √© a <br /><span class="text-primary">Alpha Code</span
                >?
            </h2>
            <p class="fade-up-audience delay-1 section-desc">
                Especialistas em posicionamento digital para quem vende
                conhecimento, imagem ou servi√ßo premium.
            </p>
        </div>
        <div class="audience-grid">
            <Card variant="default" class="audience-card">
                <div class="card-icon">ü©∫</div>
                <h3>Sa√∫de & Bem-estar</h3>
                <p class="audience-role">M√©dicos, Psic√≥logos, Nutricionistas</p>
                <ul class="audience-benefits">
                    <li>Pare de brigar por pre√ßo de consulta.</li>
                    <li>
                        Atraia pacientes particulares que valorizam seu
                        atendimento.
                    </li>
                    <li>
                        Transmita seguran√ßa e profissionalismo antes do
                        agendamento.
                    </li>
                </ul>
            </Card>
            <Card variant="default" class="audience-card">
                <div class="card-icon">‚öñÔ∏è</div>
                <h3>Jur√≠dico & Fiscal</h3>
                <p class="audience-role">Advogados, Contadores, Consultores</p>
                <ul class="audience-benefits">
                    <li>Domine a primeira p√°gina do Google na sua regi√£o.</li>
                    <li>
                        Passe a imagem de um escrit√≥rio consolidado e
                        experiente.
                    </li>
                    <li>
                        Gere leads qualificados sem depender de indica√ß√µes
                        aleat√≥rias.
                    </li>
                </ul>
            </Card>
            <Card variant="default" class="audience-card">
                <div class="card-icon">üì∏</div>
                <h3>Criativos & Arquitetos</h3>
                <p class="audience-role">Fot√≥grafos, Arquitetos, Designers</p>
                <ul class="audience-benefits">
                    <li>
                        Um portf√≥lio que valoriza cada detalhe do seu trabalho.
                    </li>
                    <li>Layout minimalista que coloca sua obra em destaque.</li>
                    <li>
                        Venda o "Sonho" e justifique cobrar o valor que voc√™
                        merece.
                    </li>
                </ul>
            </Card>
            <Card variant="default" class="audience-card">
                <div class="card-icon">üíº</div>
                <h3>Empresas & Servi√ßos</h3>
                <p class="audience-role">Cl√≠nicas, Ag√™ncias, Prestadores</p>
                <ul class="audience-benefits">
                    <li>Automatize a apresenta√ß√£o do seu servi√ßo.</li>
                    <li>Receba pedidos de or√ßamento detalhados 24h por dia.</li>
                    <li>
                        Mostre que sua empresa √© grande, organizada e confi√°vel.
                    </li>
                </ul>
            </Card>
        </div>
    </div>
</section>

<script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    const section = document.getElementById("audience");

    if (section) {
        const header = section.querySelector(".section-header");
        const grid = section.querySelector(".audience-grid");

        // Animate Title
        gsap.fromTo(
            section.querySelectorAll(".fade-up-audience"),
            { opacity: 0, y: 30 },
            {
                opacity: 1,
                y: 0,
                duration: 0.8,
                stagger: 0.1,
                ease: "power2.out",
                scrollTrigger: {
                    trigger: header,
                    start: "top 95%", // Trigger almost immediately when in view
                },
            },
        );

        // Animate Cards
        gsap.fromTo(
            section.querySelectorAll(".audience-card"),
            { opacity: 0, y: 50 },
            {
                opacity: 1,
                y: 0,
                duration: 0.8,
                stagger: 0.15,
                ease: "power2.out",
                scrollTrigger: {
                    trigger: grid,
                    start: "top 85%", // Safe trigger
                },
            },
        );
    }
</script>

<style>
    #audience {
        padding: 80px 0;
    }
    .section-desc {
        max-width: 600px;
        margin: 1rem auto 3rem;
        color: var(--color-text-secondary);
        text-align: center;
    }
    .audience-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr); /* Always 2 columns */
        gap: 30px;
        margin-top: 40px;
    }
    .section-header {
        text-align: center;
        margin-bottom: 3rem;
    }
    .audience-card {
        padding: 30px;
        height: 100%;
        display: flex;
        flex-direction: column;
        transition: all 0.3s ease;
        border-radius: 24px;
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.05);
    }
    .audience-card:hover {
        transform: translateY(-5px);
        background: rgba(255, 255, 255, 0.05);
        border-color: var(--color-primary);
    }
    .card-icon {
        font-size: 2.5rem;
        margin-bottom: 1rem;
    }
    .audience-card h3 {
        margin-bottom: 0.5rem;
        color: var(--color-heading);
        font-size: 1.3rem;
        font-weight: 700;
        line-height: 1.3;
    }
    .audience-role {
        color: var(--color-primary);
        font-size: 0.9rem;
        font-weight: 500;
        margin-bottom: 1.2rem;
        line-height: 1.4;
    }
    .audience-benefits {
        list-style: none;
        padding: 0;
        margin: 0;
        flex-grow: 1;
    }
    .audience-benefits li {
        position: relative;
        padding-left: 20px;
        margin-bottom: 10px;
        font-size: 0.9rem;
        color: var(--color-text-container);
        line-height: 1.5;
    }
    .audience-benefits li::before {
        content: "‚úì";
        position: absolute;
        left: 0;
        color: var(--color-primary);
        font-weight: bold;
    }

    /* Mobile Optimization: Stacked but Compact for clarity */
    @media (max-width: 900px) {
        .audience-grid {
            grid-template-columns: 1fr; /* Stacked layout per latest request */
            gap: 20px;
            margin-top: 30px;
        }
        .audience-card {
            padding: 25px; /* Comfortable padding */
            border-radius: 20px;
            /* Make cards look substantial but not huge */
        }
        .card-icon {
            font-size: 2.2rem;
            margin-bottom: 0.75rem;
        }
        .audience-card h3 {
            font-size: 1.25rem; /* Clean, readable title */
            margin-bottom: 0.5rem;
        }
        .audience-role {
            font-size: 0.9rem;
            margin-bottom: 1rem;
            min-height: auto;
        }
        .audience-benefits li {
            font-size: 0.95rem; /* Easy to read */
            padding-left: 20px;
            margin-bottom: 8px;
            line-height: 1.5;
        }
        .audience-benefits li::before {
            font-size: 1rem; /* Clear checkmark */
            top: 2px;
        }
    }

    /* Extra Small Screen safeguard */
    @media (max-width: 360px) {
        .audience-grid {
            gap: 8px;
        }
        .audience-card {
            padding: 12px 8px;
        }
    }
</style>
