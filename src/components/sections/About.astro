---
import Button from "../ui/Button.astro";
---

<section id="about" class="bg-alt">
    <div class="container split-layout">
        <div class="text-content">
            <h2 class="fade-up-about">
                Sobre a <br /><span class="text-primary">Alpha Code</span>
            </h2>

            <div class="global-presence fade-up-about delay-1">
                <span class="presence-icon">üåç</span>
                <span class="presence-text"
                    >Atendendo <strong>Brasil</strong> e <strong>Europa</strong
                    ></span
                >
                <div class="mini-flags">üáßüá∑ üáµüáπ üá™üá∫</div>
            </div>

            <p class="fade-up-about delay-1">
                N√£o somos apenas "fazedores de sites". Somos estrategistas
                digitais focados em performance para profissionais de alto
                n√≠vel.
            </p>
            <p class="fade-up-about delay-2">
                Nossa metodologia une <strong>Psicologia de Vendas</strong>, <strong
                    >Design Premium</strong
                > e
                <strong>SEO T√©cnico</strong> para transformar visitantes desconhecidos
                em clientes fi√©is.
            </p>
            <p class="fade-up-about delay-3">
                Eliminamos a complexidade tecnol√≥gica para que voc√™ possa focar
                no que faz de melhor: atender seus clientes e pacientes.
            </p>

            <div class="fade-up-about delay-3" style="margin-top: 2rem;">
                <Button
                    href="https://wa.me/5521999064502"
                    target="_blank"
                    variant="primary"
                    class="btn-whatsapp-custom"
                >
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        fill="currentColor"
                        class="icon-whatsapp"
                        ><path
                            d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.218-.421-.085-.565.113-.122.247-.322.371-.496.124-.173.173-.297.247-.495.074-.198.037-.372-.025-.495-.062-.124-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"
                        ></path></svg
                    >
                    FALAR COM UM ESPECIALISTA
                </Button>
            </div>
        </div>

        <div class="image-content fade-in-about">
            <div class="premium-graphic-card">
                <div class="card-icon">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="32"
                        height="32"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="lucide lucide-trending-up"
                        ><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"
                        ></polyline><polyline points="16 7 22 7 22 13"
                        ></polyline></svg
                    >
                </div>
                <h3>Autoridade & Convers√£o</h3>
                <p class="card-subtitle">Otimiza√ß√£o para m√°ximo resultado</p>

                <div class="graph-container">
                    <!-- Stylized CSS Curve -->
                    <svg
                        viewBox="0 0 200 60"
                        class="graph-curve"
                        preserveAspectRatio="none"
                    >
                        <defs>
                            <linearGradient
                                id="gradientStroke"
                                x1="0%"
                                y1="0%"
                                x2="100%"
                                y2="0%"
                            >
                                <stop
                                    offset="0%"
                                    style="stop-color:#8A1C26;stop-opacity:0.2"
                                ></stop>
                                <stop
                                    offset="100%"
                                    style="stop-color:#D62839;stop-opacity:1"
                                ></stop>
                            </linearGradient>
                            <filter
                                id="glow"
                                x="-20%"
                                y="-20%"
                                width="140%"
                                height="140%"
                            >
                                <feGaussianBlur
                                    stdDeviation="4"
                                    result="coloredBlur"></feGaussianBlur>
                                <feMerge>
                                    <feMergeNode in="coloredBlur"></feMergeNode>
                                    <feMergeNode in="SourceGraphic"
                                    ></feMergeNode>
                                </feMerge>
                            </filter>
                        </defs>
                        <path
                            d="M0,60 C50,55 100,40 200,10"
                            fill="none"
                            stroke="url(#gradientStroke)"
                            stroke-width="4"
                            filter="url(#glow)"></path>
                        <circle cx="200" cy="10" r="4" fill="#fff"></circle>
                    </svg>
                </div>

                <div class="card-stats">
                    <div class="stat">
                        <span class="stat-value">+300%</span>
                        <span class="stat-label">Visibilidade</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value">24h</span>
                        <span class="stat-label">Vendendo</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    const section = document.getElementById("about");

    if (section) {
        const tl = gsap.timeline({
            scrollTrigger: {
                trigger: section,
                start: "top 75%",
            },
        });

        tl.from(section.querySelectorAll(".fade-up-about"), {
            y: 30,
            opacity: 0,
            duration: 0.8,
            stagger: 0.2,
            ease: "power2.out",
        }).from(
            section.querySelectorAll(".fade-in-about"),
            {
                y: 30, // Changed from x to y to avoid horizontal shift issues
                opacity: 0,
                duration: 1,
                ease: "power2.out",
            },
            "-=0.6",
        );
    }
</script>

<style>
    #about {
        padding: 100px 0;
    }
    .split-layout {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 80px;
        align-items: center;
    }

    .text-content h2 {
        font-size: 2.8rem;
        margin-bottom: 2rem;
        line-height: 1.1;
    }

    .text-content p {
        font-size: 1.1rem;
        color: var(--color-text-container);
        margin-bottom: 1.5rem;
        line-height: 1.7;
    }

    .text-content strong {
        color: var(--color-text-main);
    }

    .icon-whatsapp {
        margin-right: 10px;
    }

    /* GLOBAL PRESENCE BADGE */
    .global-presence {
        display: inline-flex;
        align-items: center;
        gap: 15px;
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 10px 20px;
        border-radius: 12px;
        margin-bottom: 2rem;
        backdrop-filter: blur(5px);
        width: fit-content;
    }

    .presence-icon {
        font-size: 1.2rem;
        animation: spin-slow 10s linear infinite;
    }

    .presence-text {
        color: rgba(255, 255, 255, 0.8);
        font-size: 0.95rem;
    }

    .presence-text strong {
        color: #fff;
    }

    .mini-flags {
        color: rgba(255, 255, 255, 0.5);
        font-size: 0.9rem;
        padding-left: 10px;
        border-left: 1px solid rgba(255, 255, 255, 0.1);
        letter-spacing: 2px;
    }

    @keyframes spin-slow {
        from {
            transform: rotate(0deg);
        }
        to {
            transform: rotate(360deg);
        }
    }

    /* PREMIUM GRAPHIC CARD */
    .premium-graphic-card {
        background: #080808;
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 30px;
        padding: 60px 40px;
        text-align: center;
        box-shadow: 0 30px 60px rgba(0, 0, 0, 0.6);
        position: relative;
        overflow: hidden;
        transition: transform 0.3s ease;
    }

    .premium-graphic-card:hover {
        transform: translateY(-5px);
        border-color: rgba(255, 255, 255, 0.15);
    }

    .card-icon {
        width: 60px;
        height: 60px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
        color: var(--color-primary);
        box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5);
        border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .premium-graphic-card h3 {
        font-size: 1.5rem;
        color: #fff;
        margin-bottom: 8px;
    }

    .card-subtitle {
        color: rgba(255, 255, 255, 0.5);
        font-size: 0.9rem;
        margin-bottom: 40px;
    }

    .graph-container {
        height: 100px;
        width: 100%;
        margin-bottom: 40px;
        position: relative;
    }

    .graph-curve {
        width: 100%;
        height: 100%;
        overflow: visible;
    }

    .card-stats {
        display: flex;
        justify-content: space-around;
        border-top: 1px solid rgba(255, 255, 255, 0.08);
        padding-top: 30px;
    }

    .stat {
        display: flex;
        flex-direction: column;
        gap: 5px;
    }

    .stat-value {
        font-size: 2rem;
        font-weight: 800;
        color: #fff;
        line-height: 1;
    }

    .stat-label {
        color: rgba(255, 255, 255, 0.4);
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    @media (max-width: 900px) {
        #about {
            padding: 60px 0;
            overflow: hidden;
            width: 100%;
        }

        .split-layout {
            grid-template-columns: 1fr;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 40px;
            width: 100%;
            margin: 0 auto;
        }

        .text-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            width: 100%;
            padding: 0 1rem;
            margin: 0 auto;
        }

        .text-content h2 {
            font-size: 2.2rem;
            margin-bottom: 1.5rem;
            text-align: center !important;
        }

        .text-content p {
            width: 100%;
            max-width: 100%;
            margin: 0 auto 1.5rem auto !important;
            text-align: center !important;
        }

        /* Centering the button wrapper specifically */
        .text-content div.fade-up-about {
            display: flex !important;
            justify-content: center !important;
            align-items: center !important;
            width: 100% !important;
            margin: 1.5rem auto 0 auto !important;
        }

        .image-content {
            order: 2;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px auto 0 auto;
        }

        .premium-graphic-card {
            padding: 30px 15px;
            width: 90%;
            max-width: 320px; /* Safe width for all mobile devices */
            margin: 0 auto;
            box-sizing: border-box;
        }
    }
</style>
