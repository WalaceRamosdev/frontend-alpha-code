---
import Layout from "../layouts/BaseLayout.astro";

const links = [
    {
        title: "‚ö° Contrate seu Site agora",
        url: "https://wa.me/5521999064502?text=Ol√°, vim pelo Instagram e quero saber mais sobre os sites!",
        subtitle: "Fale direto com um especialista no WhatsApp",
        featured: true,
    },
    {
        title: "üåê Site Oficial",
        url: "/",
        subtitle: "Voltar para a p√°gina inicial",
    },
    {
        title: "üíé Nossos Planos e Pre√ßos",
        url: "/planos",
        subtitle: "Conhe√ßa as op√ß√µes para o seu neg√≥cio",
    },
    {
        title: "üé® Portf√≥lio de Projetos",
        url: "/projects",
        subtitle: "Veja o que j√° constru√≠mos",
    },
    {
        title: "üë§ Painel do Cliente",
        url: "/login",
        subtitle: "Acesse sua √°rea exclusiva",
    },
];
---

<Layout
    title="Links Oficiais | Alpha Code"
    showHeader={false}
    showFooter={false}
    showWhatsApp={false}
>
    <div class="links-page-container">
        <!-- Blobs (Mantive com opacidade baixa) -->
        <div class="bg-blobs">
            <div class="blob blob-1"></div>
            <div class="blob blob-2"></div>
        </div>

        <main class="links-content">
            <header class="profile-header">
                <div class="logo-wrapper">
                    <img
                        src="/assets/logo.svg"
                        alt="Alpha Code"
                        class="profile-logo"
                    />
                </div>
                <h1 class="profile-name">Alpha Code</h1>
                <p class="profile-bio">
                    Seu neg√≥cio precisa de um site que vende. <br /> N√≥s constru√≠mos
                    sua autoridade digital.
                </p>
            </header>

            <div class="links-list">
                {
                    links.map((link) => (
                        <a
                            href={link.url}
                            class={`link-card ${link.featured ? "featured" : ""}`}
                        >
                            <div class="link-inner">
                                <div class="link-text">
                                    <span class="link-title">{link.title}</span>
                                    {link.subtitle && (
                                        <span class="link-subtitle">
                                            {link.subtitle}
                                        </span>
                                    )}
                                </div>
                                <div class="link-chevron">
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        width="20"
                                        height="20"
                                        viewBox="0 0 24 24"
                                        fill="none"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                    >
                                        <path d="m9 18 6-6-6-6" />
                                    </svg>
                                </div>
                            </div>
                            {link.featured && <div class="glow-effect" />}
                        </a>
                    ))
                }
            </div>

            <footer class="social-footer">
                <div class="developed-by">
                    <a href="/" class="developed-link">
                        <span>Desenvolvido por n√≥s</span>
                        <img
                            src="/assets/logo.svg"
                            alt="Alpha Code Logo"
                            class="footer-logo"
                        />
                    </a>
                </div>
                <p class="copyright">¬© 2025 Alpha Code</p>
            </footer>
        </main>
    </div>
</Layout>

<style>
    .links-page-container {
        min-height: 100vh;
        background: #010101;
        display: flex;
        justify-content: center;
        padding: 40px 20px;
        position: relative;
        overflow-x: hidden;
    }

    .bg-blobs {
        position: absolute;
        inset: 0;
        z-index: 0;
    }
    .blob {
        position: absolute;
        border-radius: 50%;
        filter: blur(100px);
        opacity: 0.1;
    }
    .blob-1 {
        width: 400px;
        height: 400px;
        background: #8a1c26;
        top: -10%;
        left: -10%;
    }
    .blob-2 {
        width: 300px;
        height: 300px;
        background: #3b0a0f;
        bottom: 10%;
        right: -5%;
    }

    .links-content {
        width: 100%;
        max-width: 450px;
        z-index: 10;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .profile-header {
        text-align: center;
        margin-bottom: 30px;
        opacity: 0;
    }
    .logo-wrapper {
        width: 80px;
        height: 80px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 15px;
        backdrop-filter: blur(10px);
    }
    .profile-logo {
        width: 45px;
    }

    .profile-name {
        font-size: 1.6rem;
        font-weight: 800;
        margin-bottom: 8px;
        color: white;
    }
    .profile-bio {
        color: #888;
        font-size: 0.9rem;
        line-height: 1.4;
    }

    .links-list {
        width: 100%;
        display: flex;
        flex-direction: column;
        gap: 14px;
        margin-bottom: 40px;
    }

    .link-card {
        display: block;
        text-decoration: none;
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.08);
        padding: 16px 20px;
        border-radius: 16px;
        color: white;
        position: relative;
        overflow: hidden;
        transition:
            transform 0.3s,
            background 0.3s;
        backdrop-filter: blur(10px);
        width: 100%;
        opacity: 0; /* Come√ßa invis√≠vel via CSS */
    }

    .link-card:hover {
        transform: scale(1.02);
        background: rgba(255, 255, 255, 0.06);
    }

    .link-card.featured {
        background: linear-gradient(135deg, #8a1c26 0%, #3b0a0f 100%);
        border: none;
        box-shadow: 0 10px 20px rgba(138, 28, 38, 0.3);
    }

    .link-inner {
        display: flex;
        align-items: center;
        justify-content: space-between;
        text-align: left;
    }

    .link-text {
        display: flex;
        flex-direction: column;
    }
    .link-title {
        font-weight: 700;
        font-size: 1rem;
        margin-bottom: 2px;
    }
    .link-subtitle {
        font-size: 0.75rem;
        color: rgba(255, 255, 255, 0.5);
    }
    .link-chevron {
        opacity: 0.3;
        transition: transform 0.3s;
    }
    .link-card:hover .link-chevron {
        opacity: 1;
        transform: translateX(3px);
    }

    .social-footer {
        opacity: 0;
        text-align: center;
    }
    .developed-by {
        margin-bottom: 12px;
    }
    .developed-link {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        text-decoration: none;
        color: #666;
        font-size: 0.8rem;
        transition: all 0.3s ease;
        padding: 5px 10px;
    }
    .developed-link:hover {
        color: #8a1c26;
    }
    .footer-logo {
        width: 20px;
        filter: grayscale(1);
        opacity: 0.5;
        transition: all 0.3s ease;
    }
    .developed-link:hover .footer-logo {
        filter: grayscale(0);
        opacity: 1;
        transform: scale(1.1);
    }
    .copyright {
        font-size: 0.7rem;
        color: #444;
    }

    .glow-effect {
        position: absolute;
        inset: -50%;
        background: radial-gradient(
            circle,
            rgba(255, 255, 255, 0.1) 0%,
            transparent 70%
        );
        animation: rotate 4s linear infinite;
    }
    @keyframes rotate {
        from {
            transform: rotate(0deg);
        }
        to {
            transform: rotate(360deg);
        }
    }
</style>

<script>
    import { gsap } from "gsap";

    function initLinks() {
        gsap.to(".profile-header", { opacity: 1, y: 0, duration: 0.8 });
        gsap.to(".link-card", {
            opacity: 1,
            y: 0,
            duration: 0.6,
            stagger: 0.1,
            ease: "power2.out",
            delay: 0.3,
        });
        gsap.to(".social-footer", { opacity: 1, duration: 0.8, delay: 1 });
    }

    // Garante que roda tanto no load quanto em navega√ß√µes do Astro
    document.addEventListener("astro:page-load", initLinks);
    // Fallback para quando n√£o h√° ViewTransitions ou o evento n√£o dispara
    window.addEventListener("load", initLinks);
</script>
